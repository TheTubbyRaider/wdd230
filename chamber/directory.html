<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/base.css">
    <link rel="stylesheet" href="styles/medium.css" media="screen and (min-width: 768px)">
    <link rel="stylesheet" href="styles/larger.css" media="screen and (min-width: 1024px)">
    <link rel="stylesheet" href="styles/custom.css">
    <link rel="stylesheet" href="styles/dark-mode.css" id="dark-mode-stylesheet">
    <link rel="icon" href="images/Favicon.png" type="image/x-icon">
    <meta name="author" content="Your Name">
    <meta name="description" content="Chamber of Commerce">
    <meta property="og:title" content="Chamber of Commerce">
    <meta property="og:type" content="website">
    <meta property="og:image" content="images/Favicon.png">
    <meta property="og:url" content="https://www.example.com">
    <title>Orem, Utah Chamber of Commerce</title>
</head>
<body>
    <header>
        <div class="header-nav">
            <div class="logo"><img src="images/oremlogo.webp" style="width: 100px;" alt="Chamber Logo"><p>Orem, Utah Chamber of Commerce</p></div>
            <div class="menu">
                <nav>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="discover.html">Discover</a></li>
                        <li><a href="#">About</a></li>
                        <li><a href="#">Events</a></li>
                        <li><a href="directory.html">Members</a></li>
                        <li><a href="#">Contact</a></li>
                    </ul>
                </nav>
            </div>
            <div class="hamburger">â˜°</div>
            <div class="dark-mode-toggle">
                <label for="dark-mode-switch" class="toggle-label">
                    <input type="checkbox" id="dark-mode-switch">
                    Toggle Dark Mode
                </label>
            </div>
        </div>
    </header>
    
    <main class="grid-container">
        <div class="view-toggle">
            <label>
                <input type="radio" name="view" value="grid" checked> Grid View
            </label>
            <label>
                <input type="radio" name="view" value="list"> List View
            </label>
        </div>

        <div class="members-container" id="membersContainer"></div>
    </main>

    <footer>
        <div class="contact-info">
            <p>Contact: grsraider66@gmail.com</p>
        </div>
        <div class="development-info">
            <p>Created by Gage Strong</p>
            <p>WDD 230 Project</p>
            <p>Last Modified: <span id="lastModified"></span></p>
        </div>
    </footer>

    <script src="scripts/lastModified.js"></script>
    <script src="scripts/hamburger.js"></script>
    <script src="scripts/dark-mode.js"></script>
    <script src="scripts/windchill.js"></script>
    <script>
        async function fetchAndDisplayMembers() {
            const response = await fetch('data/members.json');
            const data = await response.json();
            const membersContainer = document.getElementById('membersContainer');
            const viewSelector = document.querySelector('.view-toggle input[name="view"]:checked').value;

            membersContainer.innerHTML = '';

            data.members.forEach(member => {
                const memberCard = document.createElement('div');
                memberCard.classList.add('member-card');

                if (viewSelector === 'grid') {
                    memberCard.innerHTML = `
                        <img src="images/${member.image}" alt="${member.name}">
                        <h3>${member.name}</h3>
                        <p>${member.address}</p>
                        <p>${member.phone}</p>
                        <p>${member.website}</p>
                        <p>Membership Level: ${member.membershipLevel}</p>
                        <p>${member.otherInfo}</p>
                    `;
                } else if (viewSelector === 'list') {
                    memberCard.innerHTML = `
                        <h3>${member.name}</h3>
                        <p>${member.address}</p>
                        <p>${member.phone}</p>
                        <p>${member.website}</p>
                        <p>Membership Level: ${member.membershipLevel}</p>
                        <p>${member.otherInfo}</p>
                    `;
                }

                membersContainer.appendChild(memberCard);
            });
        }

        document.querySelectorAll('.view-toggle input[name="view"]').forEach(input => {
            input.addEventListener('change', fetchAndDisplayMembers);
        });

        fetchAndDisplayMembers();
    </script>
</body>
</html>
